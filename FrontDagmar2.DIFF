diff --git a/src/App.tsx b/src/App.tsx
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -4,6 +4,7 @@ import AdminLoginPage from "./pages/AdminLoginPage";
 import AdminInstancesPage from "./pages/AdminInstancesPage";
 import AdminExportPage from "./pages/AdminExportPage";
 import AdminAttendanceSheetsPage from "./pages/AdminAttendanceSheetsPage";
+import AdminShiftPlanPage from "./pages/AdminShiftPlanPage";
 import { PendingPage } from "./pages/PendingPage";
 import { DeployStamp } from "./components/DeployStamp";

@@ -23,6 +24,7 @@ export default function App() {
           <Route index element={<Navigate to="instances" replace />} />
           <Route path="instances" element={<AdminInstancesPage />} />
           <Route path="dochazka" element={<AdminAttendanceSheetsPage />} />
+          <Route path="plan-sluzeb" element={<AdminShiftPlanPage />} />
           <Route path="export" element={<AdminExportPage />} />
         </Route>

diff --git a/src/pages/AdminLayout.tsx b/src/pages/AdminLayout.tsx
--- a/src/pages/AdminLayout.tsx
+++ b/src/pages/AdminLayout.tsx
@@ -66,6 +66,19 @@ export default function AdminLayout() {
         </svg>
       ),
     },
+    {
+      to: "/admin/plan-sluzeb",
+      label: "Plán služeb",
+      icon: (
+        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
+          <path d="M7 3v3M17 3v3M4 8h16" stroke="currentColor" strokeWidth="2" strokeLinecap="round" />
+          <path
+            d="M6 5h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2Z"
+            stroke="currentColor"
+            strokeWidth="2"
+            strokeLinejoin="round"
+          />
+          <path d="M12 12v4" stroke="currentColor" strokeWidth="2" strokeLinecap="round" />
+          <path d="M12 12h3" stroke="currentColor" strokeWidth="2" strokeLinecap="round" />
+        </svg>
+      ),
+    },
     {
       to: "/admin/export",
       label: "Export",
       icon: (
diff --git a/src/api/adminAttendance.ts b/src/api/adminAttendance.ts
--- a/src/api/adminAttendance.ts
+++ b/src/api/adminAttendance.ts
@@ -18,6 +18,8 @@ export type AdminAttendanceDay = {
   date: string; // YYYY-MM-DD
   arrival_time: string | null; // HH:MM
   departure_time: string | null; // HH:MM
+  planned_arrival_time?: string | null; // HH:MM (info only)
+  planned_departure_time?: string | null; // HH:MM (info only)
 };

 export type AdminAttendanceMonthResponse = {
diff --git a/src/api/attendance.ts b/src/api/attendance.ts
--- a/src/api/attendance.ts
+++ b/src/api/attendance.ts
@@ -3,6 +3,8 @@ export type AttendanceDay = {
   date: string; // YYYY-MM-DD
   arrival_time: string | null; // HH:MM
   departure_time: string | null; // HH:MM
+  planned_arrival_time?: string | null; // HH:MM (info only)
+  planned_departure_time?: string | null; // HH:MM (info only)
 };

 export type AttendanceMonthResponse = {
diff --git a/src/pages/AdminAttendanceSheetsPage.tsx b/src/pages/AdminAttendanceSheetsPage.tsx
--- a/src/pages/AdminAttendanceSheetsPage.tsx
+++ b/src/pages/AdminAttendanceSheetsPage.tsx
@@ -194,6 +194,7 @@ type TimeInputProps = {
   onChange: (value: string) => void;
   onBlur: () => void;
   saving?: boolean;
+  planned?: string | null;
   error?: string | null;
 };

@@ -202,6 +203,7 @@ function TimeInput(props: TimeInputProps) {
     placeholder,
     saving,
+    planned,
     error,
   } = props;

@@ -218,6 +220,16 @@ function TimeInput(props: TimeInputProps) {
         )}
       </div>

+      {planned ? (
+        <div
+          style={{
+            marginTop: 2,
+            fontSize: 12,
+            fontWeight: 850,
+            color: "rgba(2,132,199,0.95)",
+          }}
+        >
+          Plán: {planned}
+        </div>
+      ) : null}
+
       <input
         className="input"
         style={{
@@ -466,6 +478,7 @@ export default function AdminAttendanceSheetsPage() {
             const comp = computeDayCalc(d, template, cutoffMinutes);
             const day = new Date(d.date);
             const dow = day.getDay(); // 0 Sun..6 Sat
+            const hasPlan = !!d.planned_arrival_time || !!d.planned_departure_time;
             const isWeekend = dow === 0 || dow === 6;
             const isHoliday = !!comp.holidayName;
             const bg = isHoliday ? "rgba(245,158,11,0.10)" : isWeekend ? "rgba(148,163,184,0.12)" : "transparent";
@@ -479,7 +492,9 @@ export default function AdminAttendanceSheetsPage() {
                 className="card pad"
                 style={{
                   padding: 12,
                   display: "grid",
                   gap: 10,
                   background: "rgba(255,255,255,0.02)",
                   border: "1px solid rgba(15, 23, 42, 0.08)",
-                  boxShadow: "0 6px 18px rgba(15,23,42,0.06)",
+                  boxShadow: hasPlan
+                    ? "0 6px 18px rgba(15,23,42,0.06), 0 0 0 2px rgba(2,132,199,0.22)"
+                    : "0 6px 18px rgba(15,23,42,0.06)",
                 }}
               >
@@ -567,6 +582,7 @@ export default function AdminAttendanceSheetsPage() {
                     value={arrival}
                     onChange={(v) => setArrival(v)}
                     onBlur={() => commitTime(d.date, "arrival_time", arrival)}
+                    planned={d.planned_arrival_time ?? null}
                     saving={saving}
                     error={error}
                   />
@@ -579,6 +595,7 @@ export default function AdminAttendanceSheetsPage() {
                     value={departure}
                     onChange={(v) => setDeparture(v)}
                     onBlur={() => commitTime(d.date, "departure_time", departure)}
+                    planned={d.planned_departure_time ?? null}
                     saving={saving2}
                     error={error2}
                   />
diff --git a/src/pages/EmployeePage.tsx b/src/pages/EmployeePage.tsx
--- a/src/pages/EmployeePage.tsx
+++ b/src/pages/EmployeePage.tsx
@@ -24,6 +24,8 @@ type DayRow = {
   date: string; // YYYY-MM-DD
   arrival_time: string | null;
   departure_time: string | null;
+  planned_arrival_time?: string | null;
+  planned_departure_time?: string | null;
 };

 type PageState =
@@ -146,6 +148,7 @@ type TimeInputProps = {
   onChange: (value: string) => void;
   onBlur: () => void;
   saving?: boolean;
+  planned?: string | null;
   error?: string | null;
 };

@@ -154,6 +157,7 @@ function TimeInput(props: TimeInputProps) {
     placeholder,
     saving,
+    planned,
     error,
   } = props;

@@ -170,6 +174,16 @@ function TimeInput(props: TimeInputProps) {
         )}
       </div>

+      {planned ? (
+        <div
+          style={{
+            marginTop: 2,
+            fontSize: 12,
+            fontWeight: 850,
+            color: "rgba(2,132,199,0.95)",
+          }}
+        >
+          Plán: {planned}
+        </div>
+      ) : null}
+
       <input
         className="input"
         style={{
@@ -286,6 +300,8 @@ export default function EmployeePage() {
           arrival_time: byDate.get(date)?.arrival_time ?? null,
           departure_time: byDate.get(date)?.departure_time ?? null,
+          planned_arrival_time: byDate.get(date)?.planned_arrival_time ?? null,
+          planned_departure_time: byDate.get(date)?.planned_departure_time ?? null,
         });
       }
       setDays(out);
@@ -441,6 +457,7 @@ export default function EmployeePage() {
           const comp = computeDayCalc(r, template, cutoffMinutes);
           const day = new Date(r.date);
           const dow = day.getDay();
+          const hasPlan = !!r.planned_arrival_time || !!r.planned_departure_time;
           const isWeekend = dow === 0 || dow === 6;
           const isHoliday = !!comp.holidayName;
           const bg = isHoliday ? "rgba(245,158,11,0.10)" : isWeekend ? "rgba(148,163,184,0.12)" : "transparent";
@@ -454,7 +471,9 @@ export default function EmployeePage() {
               className="card pad"
               style={{
                 padding: 12,
                 display: "grid",
                 gap: 10,
                 background: "rgba(255,255,255,0.02)",
                 border: "1px solid rgba(15, 23, 42, 0.08)",
-                boxShadow: "0 6px 18px rgba(15,23,42,0.06)",
+                boxShadow: hasPlan
+                  ? "0 6px 18px rgba(15,23,42,0.06), 0 0 0 2px rgba(2,132,199,0.22)"
+                  : "0 6px 18px rgba(15,23,42,0.06)",
               }}
             >
@@ -524,6 +543,7 @@ export default function EmployeePage() {
                   value={arrival}
                   onChange={(v) => setArrival(v)}
                   onBlur={() => commitTime(r.date, "arrival_time", arrival)}
+                  planned={r.planned_arrival_time ?? null}
                   saving={saving}
                   error={error}
                 />
@@ -536,6 +556,7 @@ export default function EmployeePage() {
                   value={departure}
                   onChange={(v) => setDeparture(v)}
                   onBlur={() => commitTime(r.date, "departure_time", departure)}
+                  planned={r.planned_departure_time ?? null}
                   saving={saving2}
                   error={error2}
                 />
diff --git a/src/api/adminShiftPlan.ts b/src/api/adminShiftPlan.ts
new file mode 100644
--- /dev/null
+++ b/src/api/adminShiftPlan.ts
@@ -0,0 +1,118 @@
+import { apiFetch, ApiError } from "./client";
+import type { EmploymentTemplate } from "./instances";
+
+export type ShiftPlanDay = {
+  date: string; // YYYY-MM-DD
+  arrival_time: string | null; // HH:MM
+  departure_time: string | null; // HH:MM
+};
+
+export type ShiftPlanRow = {
+  instance_id: string;
+  display_name: string | null;
+  employment_template: EmploymentTemplate;
+  days: ShiftPlanDay[];
+};
+
+export type ShiftPlanActiveInstance = {
+  id: string;
+  display_name: string | null;
+  employment_template: EmploymentTemplate;
+};
+
+export type AdminShiftPlanMonthResponse = {
+  year: number;
+  month: number; // 1-12
+  selected_instance_ids: string[];
+  active_instances: ShiftPlanActiveInstance[];
+  rows: ShiftPlanRow[];
+};
+
+export type AdminShiftPlanSelectionBody = {
+  year: number;
+  month: number; // 1-12
+  instance_ids: string[];
+};
+
+export type AdminShiftPlanUpsertBody = {
+  instance_id: string;
+  date: string; // YYYY-MM-DD
+  arrival_time: string | null;
+  departure_time: string | null;
+};
+
+type CsrfTokenResponse = {
+  csrf_token: string;
+};
+
+function getCsrfToken(): string | null {
+  return sessionStorage.getItem("dagmar_csrf") || null;
+}
+
+function setCsrfToken(token: string) {
+  sessionStorage.setItem("dagmar_csrf", token);
+}
+
+async function refreshCsrfToken(): Promise<string> {
+  const res = await apiFetch<CsrfTokenResponse>("/api/v1/admin/csrf", { method: "GET" });
+  if (!res?.csrf_token) throw new ApiError(500, "CSRF token missing");
+  setCsrfToken(res.csrf_token);
+  return res.csrf_token;
+}
+
+async function ensureCsrfToken(): Promise<string> {
+  return getCsrfToken() || (await refreshCsrfToken());
+}
+
+export async function adminGetShiftPlanMonth(params: {
+  year: number;
+  month: number; // 1-12
+  signal?: AbortSignal;
+}): Promise<AdminShiftPlanMonthResponse> {
+  const { year, month, signal } = params;
+  if (!Number.isInteger(year) || year < 1970 || year > 2100) throw new ApiError(400, "Invalid year");
+  if (!Number.isInteger(month) || month < 1 || month > 12) throw new ApiError(400, "Invalid month");
+
+  return apiFetch<AdminShiftPlanMonthResponse>({
+    path: "/api/v1/admin/shift-plan",
+    method: "GET",
+    query: { year, month },
+    signal,
+  });
+}
+
+export async function adminSetShiftPlanSelection(body: AdminShiftPlanSelectionBody): Promise<{ ok: true }> {
+  const csrf = await ensureCsrfToken();
+  return apiFetch<{ ok: true }>({
+    path: "/api/v1/admin/shift-plan/selection",
+    method: "PUT",
+    body,
+    csrfToken: csrf,
+  });
+}
+
+export async function adminUpsertShiftPlan(body: AdminShiftPlanUpsertBody): Promise<{ ok: true }> {
+  const csrf = await ensureCsrfToken();
+  return apiFetch<{ ok: true }>({
+    path: "/api/v1/admin/shift-plan",
+    method: "PUT",
+    body,
+    csrfToken: csrf,
+  });
+}
diff --git a/src/pages/AdminShiftPlanPage.tsx b/src/pages/AdminShiftPlanPage.tsx
new file mode 100644
--- /dev/null
+++ b/src/pages/AdminShiftPlanPage.tsx
@@ -0,0 +1,470 @@
+import { useEffect, useMemo, useState } from "react";
+import { adminGetSettings } from "../api/admin";
+import {
+  adminGetShiftPlanMonth,
+  adminSetShiftPlanSelection,
+  adminUpsertShiftPlan,
+  type ShiftPlanActiveInstance,
+  type ShiftPlanRow,
+} from "../api/adminShiftPlan";
+import type { EmploymentTemplate } from "../api/instances";
+import { computeMonthStats, getCzechHolidayName, isWeekendDate, parseCutoffToMinutes, workingDaysInMonthCs } from "../utils/attendanceCalc";
+
+function pad2(n: number) {
+  return String(n).padStart(2, "0");
+}
+
+function parseYYYYMM(v: string): { year: number; month: number } | null {
+  const m = /^(\d{4})-(\d{2})$/.exec(v);
+  if (!m) return null;
+  const year = parseInt(m[1], 10);
+  const month = parseInt(m[2], 10);
+  if (!Number.isFinite(year) || !Number.isFinite(month) || month < 1 || month > 12) return null;
+  return { year, month };
+}
+
+function yyyyMM(year: number, month: number) {
+  return `${year}-${pad2(month)}`;
+}
+
+function monthLabel(year: number, month: number) {
+  const dt = new Date(year, month - 1, 1);
+  return dt.toLocaleDateString(undefined, { month: "long", year: "numeric" });
+}
+
+function prevMonth(v: string) {
+  const p = parseYYYYMM(v);
+  if (!p) return v;
+  const dt = new Date(p.year, p.month - 2, 1);
+  return yyyyMM(dt.getFullYear(), dt.getMonth() + 1);
+}
+
+function nextMonth(v: string) {
+  const p = parseYYYYMM(v);
+  if (!p) return v;
+  const dt = new Date(p.year, p.month, 1);
+  return yyyyMM(dt.getFullYear(), dt.getMonth() + 1);
+}
+
+function fmtMins(mins: number): string {
+  const h = Math.floor(mins / 60);
+  const m = mins % 60;
+  return `${h}:${pad2(m)}`;
+}
+
+function normalizeTime(value: string): string {
+  const v = value.trim();
+  if (!v) return "";
+  // allow H, HH, HMM, HHMM, H:MM, HH:MM
+  const m = /^(\d{1,2})(?::?(\d{2}))?$/.exec(v.replace(/\s+/g, ""));
+  if (!m) return v;
+  const hh = m[1];
+  const mm = m[2] ?? "00";
+  return `${pad2(parseInt(hh, 10))}:${mm}`;
+}
+
+function isValidTimeOrEmpty(value: string): boolean {
+  const v = value.trim();
+  if (!v) return true;
+  return /^([01]?\d|2[0-3]):[0-5]\d$/.test(normalizeTime(v));
+}
+
+function templateLabel(t: EmploymentTemplate) {
+  return t === "HPP" ? "HPP" : "DPP/DPČ";
+}
+
+type CellField = "arrival_time" | "departure_time";
+
+function PlanTimeInput(props: {
+  value: string;
+  placeholder: string;
+  disabled?: boolean;
+  saving?: boolean;
+  error?: string | null;
+  onCommit: (next: string) => void;
+}) {
+  const { value, placeholder, disabled, saving, error, onCommit } = props;
+  const [local, setLocal] = useState(value);
+
+  useEffect(() => {
+    setLocal(value);
+  }, [value]);
+
+  return (
+    <input
+      className="input"
+      style={{
+        width: "100%",
+        padding: "6px 8px",
+        fontSize: 12,
+        borderColor: error ? "rgba(239,68,68,0.7)" : undefined,
+        opacity: disabled ? 0.7 : 1,
+      }}
+      value={local}
+      placeholder={placeholder}
+      disabled={disabled}
+      onChange={(e) => setLocal(e.target.value)}
+      onBlur={() => {
+        const norm = normalizeTime(local);
+        if (!isValidTimeOrEmpty(norm)) return;
+        onCommit(norm);
+      }}
+      title={saving ? "Ukládám…" : error ? error : undefined}
+    />
+  );
+}
+
+export default function AdminShiftPlanPage() {
+  const [month, setMonth] = useState(() => {
+    const now = new Date();
+    return yyyyMM(now.getFullYear(), now.getMonth() + 1);
+  });
+
+  const parsed = useMemo(() => parseYYYYMM(month), [month]);
+  const year = parsed?.year ?? new Date().getFullYear();
+  const monthNum = parsed?.month ?? new Date().getMonth() + 1;
+
+  const [afternoonCutoff, setAfternoonCutoff] = useState<string>("17:00");
+  const cutoffMinutes = useMemo(() => parseCutoffToMinutes(afternoonCutoff), [afternoonCutoff]);
+
+  const [activeInstances, setActiveInstances] = useState<ShiftPlanActiveInstance[]>([]);
+  const [selectedIds, setSelectedIds] = useState<string[]>([]);
+  const [rows, setRows] = useState<ShiftPlanRow[]>([]);
+
+  const [loading, setLoading] = useState(false);
+  const [savingSelection, setSavingSelection] = useState(false);
+  const [pageError, setPageError] = useState<string | null>(null);
+  const [refreshKey, setRefreshKey] = useState(0);
+
+  const [savingByKey, setSavingByKey] = useState<Record<string, boolean>>({});
+  const [errorByKey, setErrorByKey] = useState<Record<string, string>>({});
+
+  useEffect(() => {
+    (async () => {
+      try {
+        const s = await adminGetSettings();
+        setAfternoonCutoff(s.afternoon_cutoff ?? "17:00");
+      } catch {
+        // ignore
+      }
+    })();
+  }, []);
+
+  useEffect(() => {
+    if (!parsed) return;
+    const ac = new AbortController();
+    setLoading(true);
+    setPageError(null);
+    (async () => {
+      try {
+        const r = await adminGetShiftPlanMonth({ year: parsed.year, month: parsed.month, signal: ac.signal });
+        setActiveInstances(r.active_instances ?? []);
+        setSelectedIds(r.selected_instance_ids ?? []);
+        setRows(r.rows ?? []);
+      } catch (e: any) {
+        setPageError(e?.message ?? "Nepodařilo se načíst plán služeb.");
+      } finally {
+        setLoading(false);
+      }
+    })();
+    return () => ac.abort();
+  }, [parsed, refreshKey]);
+
+  const monthDays = useMemo(() => {
+    const dim = new Date(year, monthNum, 0).getDate();
+    const out: string[] = [];
+    for (let d = 1; d <= dim; d++) out.push(`${year}-${pad2(monthNum)}-${pad2(d)}`);
+    return out;
+  }, [year, monthNum]);
+
+  function toggleSelected(id: string) {
+    setSelectedIds((cur) => {
+      const has = cur.includes(id);
+      if (has) return cur.filter((x) => x !== id);
+      return [...cur, id];
+    });
+  }
+
+  async function saveSelection() {
+    setSavingSelection(true);
+    setPageError(null);
+    try {
+      await adminSetShiftPlanSelection({ year, month: monthNum, instance_ids: selectedIds });
+      setRefreshKey((k) => k + 1);
+    } catch (e: any) {
+      setPageError(e?.message ?? "Uložení výběru se nezdařilo.");
+    } finally {
+      setSavingSelection(false);
+    }
+  }
+
+  function setCellSaving(key: string, v: boolean) {
+    setSavingByKey((cur) => ({ ...cur, [key]: v }));
+  }
+
+  function setCellError(key: string, v: string | null) {
+    setErrorByKey((cur) => {
+      const next = { ...cur };
+      if (!v) delete next[key];
+      else next[key] = v;
+      return next;
+    });
+  }
+
+  async function commitCell(instanceId: string, date: string, field: CellField, value: string) {
+    const key = `${instanceId}:${date}:${field}`;
+    if (!isValidTimeOrEmpty(value)) {
+      setCellError(key, "Neplatný čas");
+      return;
+    }
+
+    const nextVal = value.trim() ? normalizeTime(value.trim()) : null;
+    setRows((cur) =>
+      cur.map((r) => {
+        if (r.instance_id !== instanceId) return r;
+        return {
+          ...r,
+          days: r.days.map((d) => (d.date === date ? { ...d, [field]: nextVal } : d)),
+        };
+      })
+    );
+
+    setCellSaving(key, true);
+    setCellError(key, null);
+    try {
+      await adminUpsertShiftPlan({
+        instance_id: instanceId,
+        date,
+        arrival_time: field === "arrival_time" ? nextVal : (rows.find((x) => x.instance_id === instanceId)?.days.find((d) => d.date === date)?.arrival_time ?? null),
+        departure_time: field === "departure_time" ? nextVal : (rows.find((x) => x.instance_id === instanceId)?.days.find((d) => d.date === date)?.departure_time ?? null),
+      });
+    } catch (e: any) {
+      setCellError(key, e?.message ?? "Uložení se nezdařilo");
+    } finally {
+      setCellSaving(key, false);
+    }
+  }
+
+  const workingFundMins = useMemo(() => workingDaysInMonthCs(year, monthNum) * 8 * 60, [year, monthNum]);
+
+  return (
+    <div className="stack" style={{ gap: 16, width: "100%" }}>
+      <div style={{ display: "flex", alignItems: "flex-end", justifyContent: "space-between", flexWrap: "wrap", gap: 12 }}>
+        <div>
+          <div style={{ fontSize: 20, fontWeight: 850 }}>Plán služeb</div>
+          <div style={{ color: "var(--muted)" }}>Plánování směn po měsících. Údaje jsou pouze informační pro docházku.</div>
+        </div>
+
+        <div style={{ display: "flex", gap: 10, flexWrap: "wrap", alignItems: "flex-end" }}>
+          <button type="button" className="btn" onClick={() => setMonth((m) => prevMonth(m))} disabled={loading}>
+            ◀
+          </button>
+          <div className="pill-filter active" style={{ cursor: "default" }}>
+            {monthLabel(year, monthNum)}
+          </div>
+          <button type="button" className="btn" onClick={() => setMonth((m) => nextMonth(m))} disabled={loading}>
+            ▶
+          </button>
+        </div>
+      </div>
+
+      {pageError ? (
+        <div
+          style={{
+            border: "1px solid rgba(239,68,68,0.35)",
+            background: "rgba(239,68,68,0.08)",
+            borderRadius: 12,
+            padding: 12,
+            color: "#b91c1c",
+          }}
+        >
+          {pageError}
+        </div>
+      ) : null}
+
+      <div className="card pad" style={{ display: "flex", gap: 10, alignItems: "center", flexWrap: "wrap" }}>
+        <div className="label" style={{ marginBottom: 0 }}>
+          Vybraná zařízení (aktivní)
+        </div>
+        <span style={{ color: "var(--muted)", fontSize: 13 }}>{selectedIds.length} vybráno</span>
+        <button type="button" className="btn" onClick={saveSelection} disabled={savingSelection || loading}>
+          {savingSelection ? "Ukládám…" : "Uložit výběr"}
+        </button>
+      </div>
+
+      <div className="card pad" style={{ display: "grid", gap: 8 }}>
+        <div style={{ display: "grid", gridTemplateColumns: "repeat(auto-fit, minmax(240px, 1fr))", gap: 8 }}>
+          {activeInstances.length === 0 ? (
+            <div style={{ color: "var(--muted)" }}>{loading ? "Načítám…" : "Žádná aktivní zařízení."}</div>
+          ) : (
+            activeInstances.map((inst) => {
+              const checked = selectedIds.includes(inst.id);
+              return (
+                <label
+                  key={inst.id}
+                  style={{
+                    display: "flex",
+                    gap: 10,
+                    alignItems: "center",
+                    padding: "8px 10px",
+                    border: "1px solid rgba(15,23,42,0.10)",
+                    borderRadius: 10,
+                    background: checked ? "rgba(2,132,199,0.06)" : "transparent",
+                  }}
+                >
+                  <input type="checkbox" checked={checked} onChange={() => toggleSelected(inst.id)} />
+                  <span style={{ fontWeight: 800, minWidth: 0, overflow: "hidden", textOverflow: "ellipsis", whiteSpace: "nowrap" }}>
+                    {inst.display_name ?? inst.id.slice(0, 8)}
+                  </span>
+                  <span style={{ marginLeft: "auto", fontSize: 12, color: "var(--muted)" }}>{templateLabel(inst.employment_template)}</span>
+                </label>
+              );
+            })
+          )}
+        </div>
+      </div>
+
+      {selectedIds.length === 0 ? (
+        <div className="card pad" style={{ color: "var(--muted)" }}>
+          Vyberte zařízení a klikněte na <strong>Uložit výběr</strong>.
+        </div>
+      ) : null}
+
+      {selectedIds.length > 0 ? (
+        <div className="card" style={{ padding: 0 }}>
+          <div style={{ overflowX: "auto" }}>
+            <table className="table" style={{ minWidth: 980, tableLayout: "fixed" }}>
+              <thead>
+                <tr>
+                  <th style={{ width: 220 }}>Jméno</th>
+                  {monthDays.map((iso) => {
+                    const isWeekend = isWeekendDate(iso);
+                    const holiday = getCzechHolidayName(iso);
+                    const bg = holiday ? "rgba(245,158,11,0.10)" : isWeekend ? "rgba(148,163,184,0.12)" : "transparent";
+                    const dt = new Date(iso);
+                    return (
+                      <th key={iso} style={{ width: 86, background: bg }} title={holiday ?? undefined}>
+                        <div style={{ fontWeight: 900 }}>{dt.getDate()}</div>
+                        <div style={{ fontSize: 11, color: "var(--muted)" }}>{dt.toLocaleDateString(undefined, { weekday: "short" })}</div>
+                      </th>
+                    );
+                  })}
+                  <th style={{ width: 90, textAlign: "right" }}>Součet</th>
+                  <th style={{ width: 90, textAlign: "right" }}>Pauzy</th>
+                  <th style={{ width: 90, textAlign: "right" }}>Odpolední</th>
+                  <th style={{ width: 110, textAlign: "right" }}>Víkend+sv.</th>
+                  <th style={{ width: 80, textAlign: "right" }}>Fond</th>
+                </tr>
+              </thead>
+              <tbody>
+                {rows.length === 0 ? (
+                  <tr>
+                    <td colSpan={1 + monthDays.length + 5} style={{ color: "var(--muted)" }}>
+                      {loading ? "Načítám…" : "Pro tento měsíc nejsou vybraná zařízení."}
+                    </td>
+                  </tr>
+                ) : null}
+
+                {rows.map((r) => {
+                  const stats = computeMonthStats(r.days, r.employment_template, cutoffMinutes);
+                  const isHpp = r.employment_template === "HPP";
+                  return (
+                    <tr key={r.instance_id}>
+                      <td style={{ fontWeight: 850, minWidth: 0 }}>
+                        <div style={{ display: "flex", alignItems: "baseline", justifyContent: "space-between", gap: 10 }}>
+                          <span style={{ overflow: "hidden", textOverflow: "ellipsis", whiteSpace: "nowrap" }}>
+                            {r.display_name ?? r.instance_id.slice(0, 8)}
+                          </span>
+                          <span style={{ color: "var(--muted)", fontSize: 12 }}>{templateLabel(r.employment_template)}</span>
+                        </div>
+                      </td>
+
+                      {r.days.map((d) => {
+                        const isWeekend = isWeekendDate(d.date);
+                        const holiday = getCzechHolidayName(d.date);
+                        const bg = holiday ? "rgba(245,158,11,0.10)" : isWeekend ? "rgba(148,163,184,0.12)" : "transparent";
+                        const keyA = `${r.instance_id}:${d.date}:arrival_time`;
+                        const keyD = `${r.instance_id}:${d.date}:departure_time`;
+                        const aVal = d.arrival_time ?? "";
+                        const dVal = d.departure_time ?? "";
+                        return (
+                          <td key={d.date} style={{ background: bg }}>
+                            <div style={{ display: "grid", gap: 6 }}>
+                              <PlanTimeInput
+                                value={aVal}
+                                placeholder="Příchod"
+                                saving={!!savingByKey[keyA]}
+                                error={errorByKey[keyA] ?? null}
+                                onCommit={(v) => commitCell(r.instance_id, d.date, "arrival_time", v)}
+                              />
+                              <PlanTimeInput
+                                value={dVal}
+                                placeholder="Odchod"
+                                saving={!!savingByKey[keyD]}
+                                error={errorByKey[keyD] ?? null}
+                                onCommit={(v) => commitCell(r.instance_id, d.date, "departure_time", v)}
+                              />
+                            </div>
+                          </td>
+                        );
+                      })}
+
+                      <td style={{ textAlign: "right", fontWeight: 900 }}>{fmtMins(stats.totalMins)}</td>
+                      <td style={{ textAlign: "right" }}>{isHpp ? fmtMins(stats.breakMins) : "—"}</td>
+                      <td style={{ textAlign: "right" }}>{isHpp ? fmtMins(stats.afternoonMins) : "—"}</td>
+                      <td style={{ textAlign: "right" }}>{isHpp ? fmtMins(stats.weekendHolidayMins) : "—"}</td>
+                      <td style={{ textAlign: "right" }}>{isHpp ? fmtMins(workingFundMins) : "—"}</td>
+                    </tr>
+                  );
+                })}
+              </tbody>
+            </table>
+          </div>
+        </div>
+      ) : null}
+    </div>
+  );
+}
